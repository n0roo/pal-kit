<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAL Kit Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app">
        <header class="header">
            <h1>üöÄ PAL Kit Dashboard</h1>
            <div class="header-actions">
                <span id="last-update" class="muted">Loading...</span>
                <button id="refresh-btn" class="btn btn-secondary">‚Üª Refresh</button>
            </div>
        </header>

        <nav class="nav">
            <button class="nav-btn active" data-tab="status">Overview</button>
            <button class="nav-btn" data-tab="sessions">Sessions</button>
            <button class="nav-btn" data-tab="history">History</button>
            <button class="nav-btn" data-tab="ports">Ports</button>
            <button class="nav-btn" data-tab="workflows">Workflows</button>
            <button class="nav-btn" data-tab="docs">Documents</button>
            <button class="nav-btn" data-tab="conventions">Conventions</button>
            <button class="nav-btn" data-tab="agents">Agents</button>
        </nav>

        <main class="main">
            <!-- Status Tab -->
            <section id="tab-status" class="tab-content active">
                <h2>Overview</h2>

                <!-- Main Cards Row -->
                <div class="overview-grid">
                    <div class="stat-card clickable" onclick="showOverviewModal('active-sessions')">
                        <div class="stat-icon">üìç</div>
                        <div class="stat-info">
                            <div class="stat-value" id="stat-sessions-active">-</div>
                            <div class="stat-label">Active Sessions</div>
                        </div>
                        <div class="stat-action">‚ñ∂</div>
                    </div>
                    <div class="stat-card clickable" onclick="showOverviewModal('completed-sessions')">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-info">
                            <div class="stat-value" id="stat-sessions-completed">-</div>
                            <div class="stat-label">Completed Sessions</div>
                        </div>
                        <div class="stat-action">‚ñ∂</div>
                    </div>
                    <div class="stat-card clickable" onclick="showOverviewModal('ports')">
                        <div class="stat-icon">üì¶</div>
                        <div class="stat-info">
                            <div class="stat-value" id="stat-ports-total">-</div>
                            <div class="stat-label">Ports</div>
                            <div class="stat-sub" id="stat-ports-breakdown">-</div>
                        </div>
                        <div class="stat-action">‚ñ∂</div>
                    </div>
                    <div class="stat-card clickable" onclick="showOverviewModal('workflows')">
                        <div class="stat-icon">üîÑ</div>
                        <div class="stat-info">
                            <div class="stat-value" id="stat-workflows-running">-</div>
                            <div class="stat-label">Workflows</div>
                        </div>
                        <div class="stat-action">‚ñ∂</div>
                    </div>
                </div>

                <!-- Metrics Row -->
                <h3 class="section-title">Metrics</h3>
                <div class="metrics-grid">
                    <div class="metric-card clickable" onclick="showOverviewModal('tokens')">
                        <div class="metric-icon">üî¢</div>
                        <div class="metric-info">
                            <div class="metric-value" id="stat-total-tokens">-</div>
                            <div class="metric-label">Total Tokens</div>
                        </div>
                    </div>
                    <div class="metric-card highlight clickable" onclick="showOverviewModal('cost')">
                        <div class="metric-icon">üí∞</div>
                        <div class="metric-info">
                            <div class="metric-value" id="stat-total-cost">-</div>
                            <div class="metric-label">Total Cost</div>
                        </div>
                    </div>
                    <div class="metric-card clickable" onclick="showOverviewModal('time')">
                        <div class="metric-icon">‚è±Ô∏è</div>
                        <div class="metric-info">
                            <div class="metric-value" id="stat-total-duration">-</div>
                            <div class="metric-label">Total Time</div>
                        </div>
                    </div>
                    <div class="metric-card warning clickable" onclick="showOverviewModal('escalations')">
                        <div class="metric-icon">üö®</div>
                        <div class="metric-info">
                            <div class="metric-value" id="stat-escalations-open">-</div>
                            <div class="metric-label">Escalations</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sessions Tab -->
            <section id="tab-sessions" class="tab-content">
                <h2>Sessions</h2>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>ID</th>
                                <th>Title</th>
                                <th>Type</th>
                                <th>Duration</th>
                                <th>Tokens</th>
                                <th>Cost</th>
                                <th>Children</th>
                            </tr>
                        </thead>
                        <tbody id="sessions-table"></tbody>
                    </table>
                </div>
            </section>

            <!-- History Tab -->
            <section id="tab-history" class="tab-content">
                <h2>Session History</h2>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Sessions</th>
                                <th>Completed</th>
                                <th>Input Tokens</th>
                                <th>Output Tokens</th>
                                <th>Duration</th>
                                <th>Cost (USD)</th>
                            </tr>
                        </thead>
                        <tbody id="history-table"></tbody>
                    </table>
                </div>
            </section>

            <!-- Ports Tab -->
            <section id="tab-ports" class="tab-content">
                <h2>Ports</h2>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>ID</th>
                                <th>Title</th>
                                <th>Session</th>
                                <th>Created</th>
                            </tr>
                        </thead>
                        <tbody id="ports-table"></tbody>
                    </table>
                </div>
            </section>

            <!-- Workflows Tab -->
            <section id="tab-workflows" class="tab-content">
                <h2>Workflows</h2>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Created</th>
                            </tr>
                        </thead>
                        <tbody id="workflows-table"></tbody>
                    </table>
                </div>
            </section>

            <!-- Documents Tab -->
            <section id="tab-docs" class="tab-content">
                <h2>Documents</h2>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>Path</th>
                                <th>Type</th>
                                <th>Size</th>
                                <th>Modified</th>
                            </tr>
                        </thead>
                        <tbody id="docs-table"></tbody>
                    </table>
                </div>
            </section>

            <!-- Conventions Tab -->
            <section id="tab-conventions" class="tab-content">
                <h2>Conventions</h2>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Rules</th>
                                <th>Priority</th>
                            </tr>
                        </thead>
                        <tbody id="conventions-table"></tbody>
                    </table>
                </div>
            </section>

            <!-- Agents Tab -->
            <section id="tab-agents" class="tab-content">
                <h2>Agents</h2>
                <div class="cards-grid" id="agents-grid"></div>
            </section>
        </main>

        <footer class="footer">
            <span>PAL Kit v0.3.0</span>
            <span id="project-root" class="muted"></span>
        </footer>
    </div>

    <!-- Session Detail Modal -->
    <div id="session-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Session Detail</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="session-modal-body">
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
